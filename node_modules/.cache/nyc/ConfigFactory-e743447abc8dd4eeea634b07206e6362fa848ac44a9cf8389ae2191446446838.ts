"use strict";function cov_2niiw6x58b(){var path="/Users/shaunegan/dev/hotloop.io/coverage-action/src/ConfigFactory.ts";var hash="d8b9d62f5bbe6fcb93766e95cd4c029f6c5cac31";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/shaunegan/dev/hotloop.io/coverage-action/src/ConfigFactory.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:31}},"2":{start:{line:4,column:13},end:{line:4,column:37}},"3":{start:{line:5,column:11},end:{line:5,column:24}},"4":{start:{line:6,column:35},end:{line:32,column:3}},"5":{start:{line:9,column:4},end:{line:30,column:6}},"6":{start:{line:10,column:22},end:{line:10,column:40}},"7":{start:{line:11,column:20},end:{line:11,column:45}},"8":{start:{line:12,column:25},end:{line:12,column:56}},"9":{start:{line:13,column:22},end:{line:13,column:43}},"10":{start:{line:14,column:8},end:{line:15,column:70}},"11":{start:{line:15,column:12},end:{line:15,column:70}},"12":{start:{line:16,column:8},end:{line:17,column:68}},"13":{start:{line:17,column:12},end:{line:17,column:68}},"14":{start:{line:18,column:8},end:{line:29,column:15}},"15":{start:{line:19,column:39},end:{line:19,column:61}},"16":{start:{line:20,column:37},end:{line:20,column:77}},"17":{start:{line:21,column:38},end:{line:29,column:11}},"18":{start:{line:31,column:4},end:{line:31,column:25}},"19":{start:{line:33,column:0},end:{line:33,column:38}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:35},end:{line:6,column:36}},loc:{start:{line:6,column:47},end:{line:32,column:1}},line:6},"1":{name:"ConfigFactory",decl:{start:{line:7,column:13},end:{line:7,column:26}},loc:{start:{line:7,column:29},end:{line:8,column:5}},line:7},"2":{name:"(anonymous_2)",decl:{start:{line:9,column:24},end:{line:9,column:25}},loc:{start:{line:9,column:58},end:{line:30,column:5}},line:9},"3":{name:"(anonymous_3)",decl:{start:{line:19,column:18},end:{line:19,column:19}},loc:{start:{line:19,column:37},end:{line:19,column:63}},line:19},"4":{name:"(anonymous_4)",decl:{start:{line:20,column:18},end:{line:20,column:19}},loc:{start:{line:20,column:35},end:{line:20,column:79}},line:20},"5":{name:"(anonymous_5)",decl:{start:{line:21,column:18},end:{line:21,column:19}},loc:{start:{line:21,column:36},end:{line:29,column:13}},line:21}},branchMap:{"0":{loc:{start:{line:14,column:8},end:{line:15,column:70}},type:"if",locations:[{start:{line:14,column:8},end:{line:15,column:70}},{start:{line:14,column:8},end:{line:15,column:70}}],line:14},"1":{loc:{start:{line:16,column:8},end:{line:17,column:68}},type:"if",locations:[{start:{line:16,column:8},end:{line:17,column:68}},{start:{line:16,column:8},end:{line:17,column:68}}],line:16},"2":{loc:{start:{line:25,column:28},end:{line:25,column:83}},type:"cond-expr",locations:[{start:{line:25,column:49},end:{line:25,column:76}},{start:{line:25,column:79},end:{line:25,column:83}}],line:25},"3":{loc:{start:{line:26,column:24},end:{line:26,column:101}},type:"cond-expr",locations:[{start:{line:26,column:47},end:{line:26,column:76}},{start:{line:26,column:79},end:{line:26,column:101}}],line:26},"4":{loc:{start:{line:27,column:29},end:{line:27,column:86}},type:"cond-expr",locations:[{start:{line:27,column:52},end:{line:27,column:79}},{start:{line:27,column:82},end:{line:27,column:86}}],line:27}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},inputSourceMap:{version:3,file:"/Users/shaunegan/dev/hotloop.io/coverage-action/src/ConfigFactory.ts",sources:["/Users/shaunegan/dev/hotloop.io/coverage-action/src/ConfigFactory.ts"],names:[],mappings:";;;AAGA,sCAA+C;AAE/C,yBAAmC;AASnC;IAAA;IAuBA,CAAC;IAtBe,iBAAG,GAAjB,UAAmB,OAAsB,EAAE,aAAsB;QAC/D,IAAM,OAAO,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAA;QAClC,IAAM,KAAK,GAAW,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,CAAA;QAC/C,IAAM,UAAU,GAAW,OAAO,CAAC,aAAa,EAAE,OAAO,CAAC,CAAA;QAC1D,IAAM,OAAO,GAAmB,aAAa,CAAC,OAAO,CAAA;QAErD,IAAI,KAAK,KAAK,EAAE;YAAE,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC,CAAA;QAC3E,IAAI,UAAU,KAAK,EAAE;YAAE,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAC,CAAA;QAE9E,OAAO,aAAM,CAAC,UAAU,CAAC;aACtB,IAAI,CAAC,UAAC,OAAgB,IAAK,OAAA,OAAO,CAAC,IAAI,EAAE,EAAd,CAAc,CAAC;aAC1C,IAAI,CAAC,UAAC,KAAe,IAAK,OAAA,aAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAArB,CAAqB,CAAC;aAChD,IAAI,CAAC,UAAC,MAAc,IAAM,OAAA,CAAC;YAC1B,KAAK,OAAA;YACL,OAAO,EAAE;gBACP,IAAI,EAAE,MAAM,CAAC,QAAQ,EAAE;gBACvB,UAAU,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI;gBACnE,MAAM,EAAE,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;gBACrF,WAAW,EAAE,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI;aACvE;SACS,CAAA,EARe,CAQf,CAAC,CAAA;IACjB,CAAC;IACH,oBAAC;AAAD,CAAC,AAvBD,IAuBC;AAEQ,sCAAa",sourcesContent:["import { SyncCoverageOptions } from '@hotloop/hotloop-sdk/dist/Options'\nimport { InputOptions } from '@actions/core'\nimport { Context } from '@actions/github/lib/context'\nimport { create, Globber } from '@actions/glob'\nimport { WebhookPayload } from '@actions/github/lib/interfaces'\nimport { promises as fs } from 'fs'\n\ninterface Config {\n  token: string\n  options: SyncCoverageOptions\n}\n\ntype InputFunction = (name: string, options?: InputOptions) => string\n\nclass ConfigFactory {\n  public static get (inputFn: InputFunction, githubContext: Context): Promise<Config> {\n    const options = { required: true }\n    const token: string = inputFn('token', options)\n    const reportPath: string = inputFn('report-path', options)\n    const context: WebhookPayload = githubContext.payload\n\n    if (token === '') return Promise.reject(new Error('invalid hotloop token'))\n    if (reportPath === '') return Promise.reject(new Error('invalid report path'))\n\n    return create(reportPath)\n      .then((globber: Globber) => globber.glob())\n      .then((files: string[]) => fs.readFile(files[0]))\n      .then((report: Buffer ) => ({\n        token,\n        options: {\n          lcov: report.toString(),\n          repository: context.repository ? context.repository.html_url : null,\n          branch: context.pull_request ? context.pull_request.head.ref : context.ref.substr(11),\n          issueNumber: context.pull_request ? context.pull_request.number : null\n        }\n      } as Config))\n  }\n}\n\nexport { ConfigFactory, InputFunction, Config }\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d8b9d62f5bbe6fcb93766e95cd4c029f6c5cac31"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2niiw6x58b=function(){return actualCoverage;};}return actualCoverage;}cov_2niiw6x58b();cov_2niiw6x58b().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2niiw6x58b().s[1]++;exports.ConfigFactory=void 0;var glob_1=(cov_2niiw6x58b().s[2]++,require("@actions/glob"));var fs_1=(cov_2niiw6x58b().s[3]++,require("fs"));var ConfigFactory=(/** @class */cov_2niiw6x58b().s[4]++,function(){cov_2niiw6x58b().f[0]++;function ConfigFactory(){cov_2niiw6x58b().f[1]++;}cov_2niiw6x58b().s[5]++;ConfigFactory.get=function(inputFn,githubContext){cov_2niiw6x58b().f[2]++;var options=(cov_2niiw6x58b().s[6]++,{required:true});var token=(cov_2niiw6x58b().s[7]++,inputFn('token',options));var reportPath=(cov_2niiw6x58b().s[8]++,inputFn('report-path',options));var context=(cov_2niiw6x58b().s[9]++,githubContext.payload);cov_2niiw6x58b().s[10]++;if(token===''){cov_2niiw6x58b().b[0][0]++;cov_2niiw6x58b().s[11]++;return Promise.reject(new Error('invalid hotloop token'));}else{cov_2niiw6x58b().b[0][1]++;}cov_2niiw6x58b().s[12]++;if(reportPath===''){cov_2niiw6x58b().b[1][0]++;cov_2niiw6x58b().s[13]++;return Promise.reject(new Error('invalid report path'));}else{cov_2niiw6x58b().b[1][1]++;}cov_2niiw6x58b().s[14]++;return glob_1.create(reportPath).then(function(globber){cov_2niiw6x58b().f[3]++;cov_2niiw6x58b().s[15]++;return globber.glob();}).then(function(files){cov_2niiw6x58b().f[4]++;cov_2niiw6x58b().s[16]++;return fs_1.promises.readFile(files[0]);}).then(function(report){cov_2niiw6x58b().f[5]++;cov_2niiw6x58b().s[17]++;return{token:token,options:{lcov:report.toString(),repository:context.repository?(cov_2niiw6x58b().b[2][0]++,context.repository.html_url):(cov_2niiw6x58b().b[2][1]++,null),branch:context.pull_request?(cov_2niiw6x58b().b[3][0]++,context.pull_request.head.ref):(cov_2niiw6x58b().b[3][1]++,context.ref.substr(11)),issueNumber:context.pull_request?(cov_2niiw6x58b().b[4][0]++,context.pull_request.number):(cov_2niiw6x58b().b[4][1]++,null)}};});};cov_2niiw6x58b().s[18]++;return ConfigFactory;}());cov_2niiw6x58b().s[19]++;exports.ConfigFactory=ConfigFactory;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3NoYXVuZWdhbi9kZXYvaG90bG9vcC5pby9jb3ZlcmFnZS1hY3Rpb24vc3JjL0NvbmZpZ0ZhY3RvcnkudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaGF1bmVnYW4vZGV2L2hvdGxvb3AuaW8vY292ZXJhZ2UtYWN0aW9uL3NyYy9Db25maWdGYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUdBLHNDQUErQztBQUUvQyx5QkFBbUM7QUFTbkM7SUFBQTtJQXVCQSxDQUFDO0lBdEJlLGlCQUFHLEdBQWpCLFVBQW1CLE9BQXNCLEVBQUUsYUFBc0I7UUFDL0QsSUFBTSxPQUFPLEdBQUcsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUE7UUFDbEMsSUFBTSxLQUFLLEdBQVcsT0FBTyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQTtRQUMvQyxJQUFNLFVBQVUsR0FBVyxPQUFPLENBQUMsYUFBYSxFQUFFLE9BQU8sQ0FBQyxDQUFBO1FBQzFELElBQU0sT0FBTyxHQUFtQixhQUFhLENBQUMsT0FBTyxDQUFBO1FBRXJELElBQUksS0FBSyxLQUFLLEVBQUU7WUFBRSxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFBO1FBQzNFLElBQUksVUFBVSxLQUFLLEVBQUU7WUFBRSxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFBO1FBRTlFLE9BQU8sYUFBTSxDQUFDLFVBQVUsQ0FBQzthQUN0QixJQUFJLENBQUMsVUFBQyxPQUFnQixJQUFLLE9BQUEsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFkLENBQWMsQ0FBQzthQUMxQyxJQUFJLENBQUMsVUFBQyxLQUFlLElBQUssT0FBQSxhQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFyQixDQUFxQixDQUFDO2FBQ2hELElBQUksQ0FBQyxVQUFDLE1BQWMsSUFBTSxPQUFBLENBQUM7WUFDMUIsS0FBSyxPQUFBO1lBQ0wsT0FBTyxFQUFFO2dCQUNQLElBQUksRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFFO2dCQUN2QixVQUFVLEVBQUUsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUk7Z0JBQ25FLE1BQU0sRUFBRSxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztnQkFDckYsV0FBVyxFQUFFLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJO2FBQ3ZFO1NBQ1MsQ0FBQSxFQVJlLENBUWYsQ0FBQyxDQUFBO0lBQ2pCLENBQUM7SUFDSCxvQkFBQztBQUFELENBQUMsQUF2QkQsSUF1QkM7QUFFUSxzQ0FBYSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN5bmNDb3ZlcmFnZU9wdGlvbnMgfSBmcm9tICdAaG90bG9vcC9ob3Rsb29wLXNkay9kaXN0L09wdGlvbnMnXG5pbXBvcnQgeyBJbnB1dE9wdGlvbnMgfSBmcm9tICdAYWN0aW9ucy9jb3JlJ1xuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJ0BhY3Rpb25zL2dpdGh1Yi9saWIvY29udGV4dCdcbmltcG9ydCB7IGNyZWF0ZSwgR2xvYmJlciB9IGZyb20gJ0BhY3Rpb25zL2dsb2InXG5pbXBvcnQgeyBXZWJob29rUGF5bG9hZCB9IGZyb20gJ0BhY3Rpb25zL2dpdGh1Yi9saWIvaW50ZXJmYWNlcydcbmltcG9ydCB7IHByb21pc2VzIGFzIGZzIH0gZnJvbSAnZnMnXG5cbmludGVyZmFjZSBDb25maWcge1xuICB0b2tlbjogc3RyaW5nXG4gIG9wdGlvbnM6IFN5bmNDb3ZlcmFnZU9wdGlvbnNcbn1cblxudHlwZSBJbnB1dEZ1bmN0aW9uID0gKG5hbWU6IHN0cmluZywgb3B0aW9ucz86IElucHV0T3B0aW9ucykgPT4gc3RyaW5nXG5cbmNsYXNzIENvbmZpZ0ZhY3Rvcnkge1xuICBwdWJsaWMgc3RhdGljIGdldCAoaW5wdXRGbjogSW5wdXRGdW5jdGlvbiwgZ2l0aHViQ29udGV4dDogQ29udGV4dCk6IFByb21pc2U8Q29uZmlnPiB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgcmVxdWlyZWQ6IHRydWUgfVxuICAgIGNvbnN0IHRva2VuOiBzdHJpbmcgPSBpbnB1dEZuKCd0b2tlbicsIG9wdGlvbnMpXG4gICAgY29uc3QgcmVwb3J0UGF0aDogc3RyaW5nID0gaW5wdXRGbigncmVwb3J0LXBhdGgnLCBvcHRpb25zKVxuICAgIGNvbnN0IGNvbnRleHQ6IFdlYmhvb2tQYXlsb2FkID0gZ2l0aHViQ29udGV4dC5wYXlsb2FkXG5cbiAgICBpZiAodG9rZW4gPT09ICcnKSByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdpbnZhbGlkIGhvdGxvb3AgdG9rZW4nKSlcbiAgICBpZiAocmVwb3J0UGF0aCA9PT0gJycpIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2ludmFsaWQgcmVwb3J0IHBhdGgnKSlcblxuICAgIHJldHVybiBjcmVhdGUocmVwb3J0UGF0aClcbiAgICAgIC50aGVuKChnbG9iYmVyOiBHbG9iYmVyKSA9PiBnbG9iYmVyLmdsb2IoKSlcbiAgICAgIC50aGVuKChmaWxlczogc3RyaW5nW10pID0+IGZzLnJlYWRGaWxlKGZpbGVzWzBdKSlcbiAgICAgIC50aGVuKChyZXBvcnQ6IEJ1ZmZlciApID0+ICh7XG4gICAgICAgIHRva2VuLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgbGNvdjogcmVwb3J0LnRvU3RyaW5nKCksXG4gICAgICAgICAgcmVwb3NpdG9yeTogY29udGV4dC5yZXBvc2l0b3J5ID8gY29udGV4dC5yZXBvc2l0b3J5Lmh0bWxfdXJsIDogbnVsbCxcbiAgICAgICAgICBicmFuY2g6IGNvbnRleHQucHVsbF9yZXF1ZXN0ID8gY29udGV4dC5wdWxsX3JlcXVlc3QuaGVhZC5yZWYgOiBjb250ZXh0LnJlZi5zdWJzdHIoMTEpLFxuICAgICAgICAgIGlzc3VlTnVtYmVyOiBjb250ZXh0LnB1bGxfcmVxdWVzdCA/IGNvbnRleHQucHVsbF9yZXF1ZXN0Lm51bWJlciA6IG51bGxcbiAgICAgICAgfVxuICAgICAgfSBhcyBDb25maWcpKVxuICB9XG59XG5cbmV4cG9ydCB7IENvbmZpZ0ZhY3RvcnksIElucHV0RnVuY3Rpb24sIENvbmZpZyB9XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaGF1bmVnYW4vZGV2L2hvdGxvb3AuaW8vY292ZXJhZ2UtYWN0aW9uL3NyYy9Db25maWdGYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIrcU5Bc0JRO2lPQW5CUixHQUFBLENBQUEsTUFBQSwwQkFBQSxPQUFBLENBQUEsZUFBQSxDQUFBLENBQUEsQ0FFQSxHQUFBLENBQUEsSUFBQSwwQkFBQSxPQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsQ0FTQSxHQUFBLENBQUEsYUFBQSxFQUFBLGFBQUEsd0JBQUEsVUFBQSx5QkFBQSxRQUFBLENBQUEsYUFBQSxFQUFBLHlCQXVCQyxDQXZCRCx3QkFDZ0IsYUFBQSxDQUFBLEdBQUEsQ0FBZCxTQUFtQixPQUFuQixDQUEyQyxhQUEzQyxDQUFpRSx5QkFDL0QsR0FBTSxDQUFBLE9BQU8sMEJBQUcsQ0FBRSxRQUFRLENBQUUsSUFBWixDQUFILENBQWIsQ0FDQSxHQUFNLENBQUEsS0FBSywwQkFBVyxPQUFPLENBQUMsT0FBRCxDQUFVLE9BQVYsQ0FBbEIsQ0FBWCxDQUNBLEdBQU0sQ0FBQSxVQUFVLDBCQUFXLE9BQU8sQ0FBQyxhQUFELENBQWdCLE9BQWhCLENBQWxCLENBQWhCLENBQ0EsR0FBTSxDQUFBLE9BQU8sMEJBQW1CLGFBQWEsQ0FBQyxPQUFqQyxDQUFiLENBSitELHlCQU0vRCxHQUFJLEtBQUssR0FBSyxFQUFkLENBQWtCLDJEQUFPLENBQUEsT0FBTyxDQUFDLE1BQVIsQ0FBZSxHQUFJLENBQUEsS0FBSixDQUFVLHVCQUFWLENBQWYsQ0FBUCxDQUF5RCxDQUEzRSxpQ0FOK0QseUJBTy9ELEdBQUksVUFBVSxHQUFLLEVBQW5CLENBQXVCLDJEQUFPLENBQUEsT0FBTyxDQUFDLE1BQVIsQ0FBZSxHQUFJLENBQUEsS0FBSixDQUFVLHFCQUFWLENBQWYsQ0FBUCxDQUF1RCxDQUE5RSxpQ0FQK0QseUJBUy9ELE1BQU8sQ0FBQSxNQUFBLENBQUEsTUFBQSxDQUFPLFVBQVAsRUFDSixJQURJLENBQ0MsU0FBQyxPQUFELENBQWlCLGtEQUFLLE1BQUEsQ0FBQSxPQUFPLENBQVAsSUFBQSxFQUFBLENBQWMsQ0FEckMsRUFFSixJQUZJLENBRUMsU0FBQyxLQUFELENBQWdCLGtEQUFLLE1BQUEsQ0FBQSxJQUFBLENBQUEsUUFBQSxDQUFHLFFBQUgsQ0FBWSxLQUFLLENBQWpCLENBQWlCLENBQWpCLENBQUEsQ0FBcUIsQ0FGM0MsRUFHSixJQUhJLENBR0MsU0FBQyxNQUFELENBQWUsa0RBQU0sTUFBQyxDQUMxQixLQUFLLENBQUEsS0FEcUIsQ0FFMUIsT0FBTyxDQUFFLENBQ1AsSUFBSSxDQUFFLE1BQU0sQ0FBQyxRQUFQLEVBREMsQ0FFUCxVQUFVLENBQUUsT0FBTyxDQUFDLFVBQVIsNkJBQXFCLE9BQU8sQ0FBQyxVQUFSLENBQW1CLFFBQXhDLDhCQUFtRCxJQUFuRCxDQUZMLENBR1AsTUFBTSxDQUFFLE9BQU8sQ0FBQyxZQUFSLDZCQUF1QixPQUFPLENBQUMsWUFBUixDQUFxQixJQUFyQixDQUEwQixHQUFqRCw4QkFBdUQsT0FBTyxDQUFDLEdBQVIsQ0FBWSxNQUFaLENBQW1CLEVBQW5CLENBQXZELENBSEQsQ0FJUCxXQUFXLENBQUUsT0FBTyxDQUFDLFlBQVIsNkJBQXVCLE9BQU8sQ0FBQyxZQUFSLENBQXFCLE1BQTVDLDhCQUFxRCxJQUFyRCxDQUpOLENBRmlCLENBQUQsQ0FRZixDQVhQLENBQVAsQ0FZRCxDQXJCYSxDQURoQix5QkF1QkEsTUFBQSxDQUFBLGFBQUEsQ0FBQyxDQXZCRCxFQUFBLENBQUEsQyx5QkF5QlMsT0FBQSxDQUFBLGFBQUEsQ0FBQSxhQUFBLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTeW5jQ292ZXJhZ2VPcHRpb25zIH0gZnJvbSAnQGhvdGxvb3AvaG90bG9vcC1zZGsvZGlzdC9PcHRpb25zJ1xuaW1wb3J0IHsgSW5wdXRPcHRpb25zIH0gZnJvbSAnQGFjdGlvbnMvY29yZSdcbmltcG9ydCB7IENvbnRleHQgfSBmcm9tICdAYWN0aW9ucy9naXRodWIvbGliL2NvbnRleHQnXG5pbXBvcnQgeyBjcmVhdGUsIEdsb2JiZXIgfSBmcm9tICdAYWN0aW9ucy9nbG9iJ1xuaW1wb3J0IHsgV2ViaG9va1BheWxvYWQgfSBmcm9tICdAYWN0aW9ucy9naXRodWIvbGliL2ludGVyZmFjZXMnXG5pbXBvcnQgeyBwcm9taXNlcyBhcyBmcyB9IGZyb20gJ2ZzJ1xuXG5pbnRlcmZhY2UgQ29uZmlnIHtcbiAgdG9rZW46IHN0cmluZ1xuICBvcHRpb25zOiBTeW5jQ292ZXJhZ2VPcHRpb25zXG59XG5cbnR5cGUgSW5wdXRGdW5jdGlvbiA9IChuYW1lOiBzdHJpbmcsIG9wdGlvbnM/OiBJbnB1dE9wdGlvbnMpID0+IHN0cmluZ1xuXG5jbGFzcyBDb25maWdGYWN0b3J5IHtcbiAgcHVibGljIHN0YXRpYyBnZXQgKGlucHV0Rm46IElucHV0RnVuY3Rpb24sIGdpdGh1YkNvbnRleHQ6IENvbnRleHQpOiBQcm9taXNlPENvbmZpZz4ge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7IHJlcXVpcmVkOiB0cnVlIH1cbiAgICBjb25zdCB0b2tlbjogc3RyaW5nID0gaW5wdXRGbigndG9rZW4nLCBvcHRpb25zKVxuICAgIGNvbnN0IHJlcG9ydFBhdGg6IHN0cmluZyA9IGlucHV0Rm4oJ3JlcG9ydC1wYXRoJywgb3B0aW9ucylcbiAgICBjb25zdCBjb250ZXh0OiBXZWJob29rUGF5bG9hZCA9IGdpdGh1YkNvbnRleHQucGF5bG9hZFxuXG4gICAgaWYgKHRva2VuID09PSAnJykgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignaW52YWxpZCBob3Rsb29wIHRva2VuJykpXG4gICAgaWYgKHJlcG9ydFBhdGggPT09ICcnKSByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdpbnZhbGlkIHJlcG9ydCBwYXRoJykpXG5cbiAgICByZXR1cm4gY3JlYXRlKHJlcG9ydFBhdGgpXG4gICAgICAudGhlbigoZ2xvYmJlcjogR2xvYmJlcikgPT4gZ2xvYmJlci5nbG9iKCkpXG4gICAgICAudGhlbigoZmlsZXM6IHN0cmluZ1tdKSA9PiBmcy5yZWFkRmlsZShmaWxlc1swXSkpXG4gICAgICAudGhlbigocmVwb3J0OiBCdWZmZXIgKSA9PiAoe1xuICAgICAgICB0b2tlbixcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGxjb3Y6IHJlcG9ydC50b1N0cmluZygpLFxuICAgICAgICAgIHJlcG9zaXRvcnk6IGNvbnRleHQucmVwb3NpdG9yeSA/IGNvbnRleHQucmVwb3NpdG9yeS5odG1sX3VybCA6IG51bGwsXG4gICAgICAgICAgYnJhbmNoOiBjb250ZXh0LnB1bGxfcmVxdWVzdCA/IGNvbnRleHQucHVsbF9yZXF1ZXN0LmhlYWQucmVmIDogY29udGV4dC5yZWYuc3Vic3RyKDExKSxcbiAgICAgICAgICBpc3N1ZU51bWJlcjogY29udGV4dC5wdWxsX3JlcXVlc3QgPyBjb250ZXh0LnB1bGxfcmVxdWVzdC5udW1iZXIgOiBudWxsXG4gICAgICAgIH1cbiAgICAgIH0gYXMgQ29uZmlnKSlcbiAgfVxufVxuXG5leHBvcnQgeyBDb25maWdGYWN0b3J5LCBJbnB1dEZ1bmN0aW9uLCBDb25maWcgfVxuIl19